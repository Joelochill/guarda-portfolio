---
/* 
  This was useful: https://docs.astro.build/en/guides/client-side-scripts/#pass-frontmatter-variables-to-scripts
*/
import { useTranslations } from '../i18n/utils';

const t = useTranslations(Astro.currentLocale);
---

<form id="contact-form" novalidate>
  <div class="form-control">
    <input
      type="text"
      name="user_name"
      id="user_name"
      placeholder={t('form.ui.user_name') + '*'}
    />
    <span class="error"></span>
  </div>

  <div class="form-control">
    <input
      type="email"
      name="user_email"
      id="email"
      placeholder={t('form.ui.user_email') + '*'}
    />
    <span class="error"></span>
  </div>

  <div class="form-control">
    <input
      type="text"
      name="subject"
      id="subject"
      placeholder={t('form.ui.subject') + '*'}
    />
    <span class="error"></span>
  </div>

  <div class="form-control">
    <textarea
      rows="8"
      name="message"
      id="message"
      placeholder={t('form.ui.message') + '*'}></textarea>
    <span class="error"></span>
  </div>

  <div class="form-control">
    <button type="submit">{t('form.ui.submit')}</button>
    <span id="submission-result"></span>
  </div>
</form>

<style>
  form {
    max-inline-size: 100ch;
    display: grid;
    gap: 1em;
    grid-template-areas:
      'name'
      'email'
      'subject'
      'message'
      'submit';
    color: var(--color-text);
  }

  .form-control {
    display: flex;
    flex-direction: column;
  }

  .form-control:has(input[name='user_name']) {
    grid-area: name;
  }

  .form-control:has(input[name='user_email']) {
    grid-area: email;
  }

  .form-control:has(input[name='subject']) {
    grid-area: subject;
  }

  .form-control:has(textarea[name='message']) {
    grid-area: message;
  }

  .form-control:has(button[type='submit']) {
    grid-area: submit;
    padding: 0.3em 0.1rem;
    flex-direction: row;
    justify-content: space-between;
  }

  input,
  textarea {
    border-bottom: 1px solid var(--color-text);
    padding: 0.3em 0.1rem;
  }

  button:hover {
    color: var(--color-text-hover);
  }

  input,
  textarea,
  input::placeholder,
  textarea::placeholder,
  button {
    color: inherit;
  }

  .error {
    height: 1rem;
    font-size: 0.8rem;
    padding: 0.2em 0.1rem;
    color: var(--color-error);
  }

  @media only screen and (min-width: 625px) {
    form {
      grid-template-areas:
        'name email'
        'subject subject'
        'message message'
        'submit submit';
    }
  }
</style>
